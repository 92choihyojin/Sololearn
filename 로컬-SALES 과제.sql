-- SALES 부서 소속 사원의 이름과 입사일 출력
SELECT FIRST_NAME, HIRE_DATE
FROM EMPLOYEES WHERE DEPARTMENT_ID =
(SELECT DEPARTMENT_ID FROM DEPARTMENTS WHERE UPPER(DEPARTMENT_NAME) = UPPER('SALES'));

-- 커미션을 받는 직원의 이름과 그가 속한 부서명 출력
(SELECT DEPARTMENT_NAME FROM DEPARTMENTS WHERE DEPARTMENT_ID = 80);
SELECT FIRST_NAME,(SELECT DEPARTMENT_NAME FROM DEPARTMENTS WHERE DEPARTMENTS.DEPARTMENT_ID = EMPLOYEES.DEPARTMENT_ID)
FROM EMPLOYEES
WHERE COMMISSION_PCT IS NOT NULL;

--GUY 과 동일한 부서에서 근무하는 직원의 이름과 부서번호 출력
SELECT FIRST_NAME, DEPARTMENT_ID 
FROM EMPLOYEES WHERE DEPARTMENT_ID =
(SELECT DEPARTMENT_ID FROM EMPLOYEES WHERE UPPER (FIRST_NAME) ='GUY');

/**************************************************************/
--미래 대학교 수강신청
--학과 테이블
CREATE TABLE MIRAE_SUB (
    "no" NUMBER NOT NULL,
    s_num NUMBER(2) NOT NULL,
    s_name VARCHAR2(30) NOT NULL,
    CONSTRAINT MIRAE_SUB_PK PRIMARY KEY("no")
    );
SELECT * FROM MIRAE_SUB;

INSERT INTO MIRAE_SUB VALUES(01,01,'컴퓨터학과');
INSERT INTO MIRAE_SUB VALUES(02,02,'교육학과');
INSERT INTO MIRAE_SUB VALUES(03,03,'신문방송학과');
INSERT INTO MIRAE_SUB VALUES(04,04,'인터넷비즈니스과');
INSERT INTO MIRAE_SUB VALUES(05,05,'기술경영과');

--학생 테이블
CREATE TABLE MIRAE_STU (
    "no"    NUMBER NOT NULL,
    sd_num  NUMBER(8) NOT NULL,
    sd_name VARCHAR2(10) NOT NULL,
    sd_id   VARCHAR2(15) NOT NULL,
    sd_passwd VARCHAR2(10) NOT NULL,
    s_num NUMBER(2) NOT NULL,
    sd_jumin NUMBER(13) NOT NULL,
    sd_phone VARCHAR2(12) NOT NULL,
    sd_address VARCHAR2(50) NOT NULL,
    sd_email VARCHAR2(50) NOT NULL,
    sd_date DATE NOT NULL,
    CONSTRAINT MIRAE_STU_PK PRIMARY KEY("no")
    );
DROP TABLE MIRAE_STU;
TRUNCATE TABLE MIRAE_STU;
SELECT * FROM MIRAE_STU;
--학생들 데이터 삽입
INSERT INTO MIRAE_STU VALUES(01,90010001,'김정수','javajsp','1234',01,901102,'01038459876','서울 강동구','abc@naver.com','2020/03/02');
INSERT INTO MIRAE_STU VALUES(02,88040001,'김수현','jdbcmania','08862',04,880822,'01084763845','서울 역삼동','QWE@naver.com','2020/03/02');
INSERT INTO MIRAE_STU VALUES(03,93030001,'공지영','gonji','2382',03,930209,'01092832190','부산 대전동','GDS@naver.com','2020/03/02');
INSERT INTO MIRAE_STU VALUES(04,91030001,'조수영','water','3642',03,910818,'01029334909','울산 삼성동','TTT@naver.com','2020/03/02');
INSERT INTO MIRAE_STU VALUES(05,92050001,'최경란','novel','3392',05,921207,'01022349892','서울 강북동','YIO@naver.com','2020/03/02');
INSERT INTO MIRAE_STU VALUES(06,93020001,'안익태','korea','8753',02,930405,'01099877832','경기 강서동','ZXC@naver.com','2020/03/02');

--과목 테이블
CREATE TABLE MIRAE_LESSON (
    "no" NUMBER NOT NULL,
    L_NUM NUMBER NOT NULL,
    L_NAME VARCHAR2(50) NOT NULL,
    CONSTRAINT MIRAE_LESSON_PK PRIMARY KEY("no")
    );
SELECT * FROM MIRAE_LESSON;

--과목테이블 삽입
INSERT INTO MIRAE_LESSON VALUES (01,01,'K-국어');
INSERT INTO MIRAE_LESSON VALUES (02,02,'M-수학');
INSERT INTO MIRAE_LESSON VALUES (03,03,'E-영어');
INSERT INTO MIRAE_LESSON VALUES (04,04,'H-역사');
INSERT INTO MIRAE_LESSON VALUES (05,05,'P-프로그래밍');
INSERT INTO MIRAE_LESSON VALUES (06,06,'D-데이터베이스');
INSERT INTO MIRAE_LESSON VALUES (07,07,'ED-교육학이론');
SELECT * FROM MIRAE_LESSON;

--수강 테이블
CREATE TABLE MIRAE_TRAIN (
    "no" NUMBER NOT NULL,
    SD_NUM NUMBER NOT NULL,
    L_NUM NUMBER NOT NULL,
    T_SECTION VARCHAR2(30) NOT NULL,
    T_DATE DATE NOT NULL,
    CONSTRAINT MIRAE_TRAIN_PK PRIMARY KEY("no")
);
SELECT * FROM MIRAE_TRAIN;
/*수강테이블에서 과목구분은 culture(교양) / major(전공) / minor(부전공)로 이루어진다.
(교양 – 국어 / 수학 / 영어 / 역사, 전공 – 컴퓨터, 데이터베이스 )
/*INSERT INTO MIRAE_SUB VALUES(01,01,'컴퓨터학과');
INSERT INTO MIRAE_SUB VALUES(02,02,'교육학과');
INSERT INTO MIRAE_SUB VALUES(03,03,'신문방송학과');
INSERT INTO MIRAE_SUB VALUES(04,04,'인터넷비즈니스과');
INSERT INTO MIRAE_SUB VALUES(05,05,'기술경영과');*/

--수강 테이블 입력
INSERT INTO MIRAE_TRAIN VALUES (01,90010001,07,'major','2020/03/02');
INSERT INTO MIRAE_TRAIN VALUES (02,88040001,05,'major','2020/03/02');
INSERT INTO MIRAE_TRAIN VALUES (03,93030001,01,'culture','2020/03/02');
INSERT INTO MIRAE_TRAIN VALUES (04,91030001,03,'culture','2020/03/02');
INSERT INTO MIRAE_TRAIN VALUES (05,92050001,05,'minor','2020/03/02');
INSERT INTO MIRAE_TRAIN VALUES (06,93020001,07,'major','2020/03/02');
SELECT * FROM MIRAE_TRAIN;